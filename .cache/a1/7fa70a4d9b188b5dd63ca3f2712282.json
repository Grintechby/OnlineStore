{"id":"A8M7","dependencies":[{"name":"H:\\FE73\\OnlineShop\\OnlineStore\\package.json","includedInParent":true,"mtime":1650829343891},{"name":"../shopping/shopping.js","loc":{"line":1,"column":41,"index":41},"parent":"H:\\FE73\\OnlineShop\\OnlineStore\\src\\header\\shopping_cart.js","resolved":"H:\\FE73\\OnlineShop\\OnlineStore\\src\\shopping\\shopping.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.addItems=m,exports.updateStorage=exports.shoppingCart=exports.priceNum=exports.price=exports.openBasket=exports.normalPrice=exports.items=exports.fullPrice=exports.closeBasket=exports.clearBasket=exports.basketClose=exports.basketClear=exports.basketBody=exports.basket=exports.addMain=void 0;var e=require(\"../shopping/shopping.js\"),t=document.querySelector(\".header__shopping-cart\");exports.shoppingCart=t;var r=document.querySelector(\".basket\");exports.basket=r;var o=document.querySelector(\".basket__close\");exports.basketClose=o;var a=document.querySelector(\".basket__body\");exports.basketBody=a;var n=document.querySelector(\".basket__clear\");exports.basketClear=n;var s=document.querySelector(\".basket__items\");exports.items=s;var c=document.querySelector(\".basket__full-priceNum\");exports.fullPrice=c,c.textContent=\"0\";var i=0;exports.price=i;var p=function(){var e=document.querySelector(\".basket__items\").innerHTML,t=c.textContent;e.length?(localStorage.setItem(\"products\",e),localStorage.setItem(\"price\",t)):(localStorage.removeItem(\"products\"),localStorage.removeItem(\"price\"))};exports.updateStorage=p;var d=function(){localStorage.getItem(\"products\")&&(document.querySelector(\".basket__items\").innerHTML=localStorage.getItem(\"products\"),c.textContent=localStorage.getItem(\"price\"))};d();var l=function(e){return parseInt(e.replace(/[^\\d]/g,\"\"))};exports.priceNum=l;var u=function(e){return String(e).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g,\"$1 \")};function m(t){var r=\"\";e.catalog.forEach(function(e){t==e.id&&(r='\\n                <div id=\"itm_'.concat(e.id,'\" class=\"basket__item\">\\n                    <div class=\"item__img\" style=\"background: url(').concat(e.img,') no-repeat center; background-size: contain;\"></div>\\n                    <div class=\"item__name\">').concat(e.name,\"/\").concat(e.description,'</div>\\n                    <div class=\"item__price\">').concat(e.price,\"</div>\\n                </div>\\n            \"),s.innerHTML+=r,exports.price=i+=l(e.price),c.textContent=u(i),p())})}exports.normalPrice=u;var v=function(e,t){var r=new RegExp(e,\"g\"),o=document.getElementsByClassName(t),a=event.target.id.replace(r,\"\");event.target==o[a-1]&&m(a)};exports.addMain=v,e.goodsList.addEventListener(\"click\",function(){v(\"addbtn_\",\"goods-card__basket-add\")}),e.modals.addEventListener(\"click\",function(){v(\"popbtn_\",\"popup__basket-btn\")});var x=function(){return r.style.display=\"block\"};exports.openBasket=x,t.addEventListener(\"click\",x);var g=function(){event.target==a?r.style.display=\"none\":event.target==o&&(r.style.display=\"none\"),event.preventDefault()};exports.closeBasket=g,t.addEventListener(\"click\",g);var k=function(){s.innerHTML=\"\",exports.price=i=0,c.textContent=\"0\",p()};exports.clearBasket=k,n.addEventListener(\"click\",k);"},"sourceMaps":null,"error":null,"hash":"2ff9968873b875c273d47e4fe9a00b41","cacheData":{"env":{}}}